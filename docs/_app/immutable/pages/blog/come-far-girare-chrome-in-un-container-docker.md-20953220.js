import{S as di,i as vi,s as bi,C as go,w as _i,x as ki,y as zi,z as Ei,A as jo,f as hi,t as gi,B as Pi,P as Zo,l as t,r,a as m,m as l,n,u as c,h as o,c as p,p as d,F as Jo,b as a,G as s,E as Ci}from"../../chunks/index-c6be98ca.js";import{P as wi}from"../../chunks/_post-225ef9a4.js";import"../../chunks/helpers-e147ed77.js";import"../../chunks/Categoria.svelte_svelte_type_style_lang-d76a398c.js";function qi(H){let u,k,z,E,f,b,_,Se,K,Ae,Ne,te,L,Xe,le,U,We,ne,M,Ye,re,T,Fe,ce,v,Po,me,G,Qe,pe,O,Be,ue,S,Ve,fe,A,je,de,C,ei='<code class="language-bash">$ <span class="token function">git</span> clone https://github.com/profmancusoa/google-chrome-dockerized</code>',ve,h,Ze,ee,Je,Ke,be,w,oi=`<code class="language-bash">FROM debian:latest
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">wget</span> gnupg2
RUN <span class="token function">wget</span> -q -O - https://dl.google.com/linux/linux_signing_key.pub <span class="token operator">|</span> apt-key <span class="token function">add</span> -
RUN <span class="token builtin class-name">echo</span> <span class="token string">"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main"</span> <span class="token operator">>></span> /etc/apt/sources.list.d/chrome.list
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y google-chrome-stable
CMD <span class="token punctuation">[</span><span class="token string">"google-chrome"</span>, <span class="token string">"--no-sandbox"</span><span class="token punctuation">]</span></code>`,_e,q,eo,oe,oo,ke,D,ii=`<code class="language-bash">$ <span class="token builtin class-name">cd</span> google-chrome-dockerized
$ <span class="token function">docker</span> build -t google-chrome <span class="token builtin class-name">.</span></code>`,ze,N,io,Ee,x,ai=`<code class="language-bash">$ <span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> google    

google-chrome                   latest             2dd030b2446b   <span class="token number">5</span> hours ago     <span class="token number">1</span>.07GB</code>`,he,X,ao,ge,W,so,Pe,Y,to,Ce,y,si='<code class="language-bash">$ xhost +local:docker</code>',we,F,lo,qe,I,ti='<code class="language-bash">$ <span class="token function">docker</span> run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -e <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span><span class="token environment constant">$DISPLAY</span> google-chrome</code>',De,Q,B,Co,xe,V,no,ye,g,ro,ie,co,mo,Ie,R,li=`<code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">dgoogle</span><span class="token operator">=</span><span class="token string">'xhost +local:docker &amp;&amp; docker run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY=$DISPLAY google-chrome'</span></code>`,Re,$,po,ae,uo,$e,j,fo,He,P,vo,se,bo,_o,Le,Z,ko,Ue,J,zo;return{c(){u=t("h2"),k=r("Navighiamo in sicurezza"),z=m(),E=t("p"),f=r(`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),b=m(),_=t("p"),Se=r("Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),K=t("code"),Ae=r("sandbox"),Ne=r(` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),te=m(),L=t("h2"),Xe=r("Confiniamo Chrome in un container Docker"),le=m(),U=t("p"),We=r(`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),ne=m(),M=t("p"),Ye=r("In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),re=m(),T=t("p"),Fe=r("Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),ce=m(),v=t("iframe"),me=m(),G=t("h2"),Qe=r("Dockerizziamo Google Chrome"),pe=m(),O=t("p"),Be=r("Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),ue=m(),S=t("h3"),Ve=r("Creiamo l\u2019immagine del container"),fe=m(),A=t("p"),je=r("Clona il mio repository da GitHub"),de=m(),C=t("pre"),ve=m(),h=t("p"),Ze=r("Qui il "),ee=t("code"),Je=r("Dockerfile"),Ke=r(" che ho creato per generare l\u2019immagine"),be=m(),w=t("pre"),_e=m(),q=t("p"),eo=r("Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),oe=t("code"),oo=r("docker build"),ke=m(),D=t("pre"),ze=m(),N=t("p"),io=r(`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),Ee=m(),x=t("pre"),he=m(),X=t("h3"),ao=r("Lanciamo il browser dockerizzato"),ge=m(),W=t("p"),so=r("Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Pe=m(),Y=t("p"),to=r("Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),Ce=m(),y=t("pre"),we=m(),F=t("p"),lo=r("A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),qe=m(),I=t("pre"),De=m(),Q=t("p"),B=t("img"),xe=m(),V=t("h3"),no=r("Rendiamoci la vita semplice"),ye=m(),g=t("p"),ro=r("Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),ie=t("code"),co=r("alias"),mo=r(" nel mio .zshrc, o se usi la bash nel file .bashrc"),Ie=m(),R=t("pre"),Re=m(),$=t("p"),po=r("In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),ae=t("code"),uo=r("dgoogle"),$e=m(),j=t("h3"),fo=r("Conclusioni"),He=m(),P=t("p"),vo=r("Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),se=t("em"),bo=r("\u201Cmagia\u201D"),_o=r(" di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Le=m(),Z=t("p"),ko=r(`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),Ue=m(),J=t("p"),zo=r("Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),this.h()},l(e){u=l(e,"H2",{});var i=n(u);k=c(i,"Navighiamo in sicurezza"),i.forEach(o),z=p(e),E=l(e,"P",{});var wo=n(E);f=c(wo,`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),wo.forEach(o),b=p(e),_=l(e,"P",{});var Me=n(_);Se=c(Me,"Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),K=l(Me,"CODE",{});var qo=n(K);Ae=c(qo,"sandbox"),qo.forEach(o),Ne=c(Me,` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),Me.forEach(o),te=p(e),L=l(e,"H2",{});var Do=n(L);Xe=c(Do,"Confiniamo Chrome in un container Docker"),Do.forEach(o),le=p(e),U=l(e,"P",{});var xo=n(U);We=c(xo,`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),xo.forEach(o),ne=p(e),M=l(e,"P",{});var yo=n(M);Ye=c(yo,"In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),yo.forEach(o),re=p(e),T=l(e,"P",{});var Io=n(T);Fe=c(Io,"Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),Io.forEach(o),ce=p(e),v=l(e,"IFRAME",{width:!0,height:!0,src:!0,title:!0,frameborder:!0,allow:!0}),n(v).forEach(o),me=p(e),G=l(e,"H2",{});var Ro=n(G);Qe=c(Ro,"Dockerizziamo Google Chrome"),Ro.forEach(o),pe=p(e),O=l(e,"P",{});var $o=n(O);Be=c($o,"Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),$o.forEach(o),ue=p(e),S=l(e,"H3",{});var Ho=n(S);Ve=c(Ho,"Creiamo l\u2019immagine del container"),Ho.forEach(o),fe=p(e),A=l(e,"P",{});var Lo=n(A);je=c(Lo,"Clona il mio repository da GitHub"),Lo.forEach(o),de=p(e),C=l(e,"PRE",{class:!0});var ni=n(C);ni.forEach(o),ve=p(e),h=l(e,"P",{});var Te=n(h);Ze=c(Te,"Qui il "),ee=l(Te,"CODE",{});var Uo=n(ee);Je=c(Uo,"Dockerfile"),Uo.forEach(o),Ke=c(Te," che ho creato per generare l\u2019immagine"),Te.forEach(o),be=p(e),w=l(e,"PRE",{class:!0});var ri=n(w);ri.forEach(o),_e=p(e),q=l(e,"P",{});var Eo=n(q);eo=c(Eo,"Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),oe=l(Eo,"CODE",{});var Mo=n(oe);oo=c(Mo,"docker build"),Mo.forEach(o),Eo.forEach(o),ke=p(e),D=l(e,"PRE",{class:!0});var ci=n(D);ci.forEach(o),ze=p(e),N=l(e,"P",{});var To=n(N);io=c(To,`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),To.forEach(o),Ee=p(e),x=l(e,"PRE",{class:!0});var mi=n(x);mi.forEach(o),he=p(e),X=l(e,"H3",{});var Go=n(X);ao=c(Go,"Lanciamo il browser dockerizzato"),Go.forEach(o),ge=p(e),W=l(e,"P",{});var Oo=n(W);so=c(Oo,"Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Oo.forEach(o),Pe=p(e),Y=l(e,"P",{});var So=n(Y);to=c(So,"Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),So.forEach(o),Ce=p(e),y=l(e,"PRE",{class:!0});var pi=n(y);pi.forEach(o),we=p(e),F=l(e,"P",{});var Ao=n(F);lo=c(Ao,"A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),Ao.forEach(o),qe=p(e),I=l(e,"PRE",{class:!0});var ui=n(I);ui.forEach(o),De=p(e),Q=l(e,"P",{});var No=n(Q);B=l(No,"IMG",{src:!0,alt:!0}),No.forEach(o),xe=p(e),V=l(e,"H3",{});var Xo=n(V);no=c(Xo,"Rendiamoci la vita semplice"),Xo.forEach(o),ye=p(e),g=l(e,"P",{});var Ge=n(g);ro=c(Ge,"Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),ie=l(Ge,"CODE",{});var Wo=n(ie);co=c(Wo,"alias"),Wo.forEach(o),mo=c(Ge," nel mio .zshrc, o se usi la bash nel file .bashrc"),Ge.forEach(o),Ie=p(e),R=l(e,"PRE",{class:!0});var fi=n(R);fi.forEach(o),Re=p(e),$=l(e,"P",{});var ho=n($);po=c(ho,"In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),ae=l(ho,"CODE",{});var Yo=n(ae);uo=c(Yo,"dgoogle"),Yo.forEach(o),ho.forEach(o),$e=p(e),j=l(e,"H3",{});var Fo=n(j);fo=c(Fo,"Conclusioni"),Fo.forEach(o),He=p(e),P=l(e,"P",{});var Oe=n(P);vo=c(Oe,"Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),se=l(Oe,"EM",{});var Qo=n(se);bo=c(Qo,"\u201Cmagia\u201D"),Qo.forEach(o),_o=c(Oe," di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Oe.forEach(o),Le=p(e),Z=l(e,"P",{});var Bo=n(Z);ko=c(Bo,`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),Bo.forEach(o),Ue=p(e),J=l(e,"P",{});var Vo=n(J);zo=c(Vo,"Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),Vo.forEach(o),this.h()},h(){d(v,"width","560"),d(v,"height","315"),Jo(v.src,Po="https://www.youtube.com/embed/t3-Rr5UzRgU")||d(v,"src",Po),d(v,"title","YouTube video player"),d(v,"frameborder","0"),d(v,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),v.allowFullscreen=!0,d(C,"class","language-bash"),d(w,"class","language-bash"),d(D,"class","language-bash"),d(x,"class","language-bash"),d(y,"class","language-bash"),d(I,"class","language-bash"),Jo(B.src,Co="/img/posts/come-far-girare-chrome-in-un-container-docker/chrome-windows.png")||d(B,"src",Co),d(B,"alt","Chrome Remote Windows"),d(R,"class","language-bash")},m(e,i){a(e,u,i),s(u,k),a(e,z,i),a(e,E,i),s(E,f),a(e,b,i),a(e,_,i),s(_,Se),s(_,K),s(K,Ae),s(_,Ne),a(e,te,i),a(e,L,i),s(L,Xe),a(e,le,i),a(e,U,i),s(U,We),a(e,ne,i),a(e,M,i),s(M,Ye),a(e,re,i),a(e,T,i),s(T,Fe),a(e,ce,i),a(e,v,i),a(e,me,i),a(e,G,i),s(G,Qe),a(e,pe,i),a(e,O,i),s(O,Be),a(e,ue,i),a(e,S,i),s(S,Ve),a(e,fe,i),a(e,A,i),s(A,je),a(e,de,i),a(e,C,i),C.innerHTML=ei,a(e,ve,i),a(e,h,i),s(h,Ze),s(h,ee),s(ee,Je),s(h,Ke),a(e,be,i),a(e,w,i),w.innerHTML=oi,a(e,_e,i),a(e,q,i),s(q,eo),s(q,oe),s(oe,oo),a(e,ke,i),a(e,D,i),D.innerHTML=ii,a(e,ze,i),a(e,N,i),s(N,io),a(e,Ee,i),a(e,x,i),x.innerHTML=ai,a(e,he,i),a(e,X,i),s(X,ao),a(e,ge,i),a(e,W,i),s(W,so),a(e,Pe,i),a(e,Y,i),s(Y,to),a(e,Ce,i),a(e,y,i),y.innerHTML=si,a(e,we,i),a(e,F,i),s(F,lo),a(e,qe,i),a(e,I,i),I.innerHTML=ti,a(e,De,i),a(e,Q,i),s(Q,B),a(e,xe,i),a(e,V,i),s(V,no),a(e,ye,i),a(e,g,i),s(g,ro),s(g,ie),s(ie,co),s(g,mo),a(e,Ie,i),a(e,R,i),R.innerHTML=li,a(e,Re,i),a(e,$,i),s($,po),s($,ae),s(ae,uo),a(e,$e,i),a(e,j,i),s(j,fo),a(e,He,i),a(e,P,i),s(P,vo),s(P,se),s(se,bo),s(P,_o),a(e,Le,i),a(e,Z,i),s(Z,ko),a(e,Ue,i),a(e,J,i),s(J,zo)},p:Ci,d(e){e&&o(u),e&&o(z),e&&o(E),e&&o(b),e&&o(_),e&&o(te),e&&o(L),e&&o(le),e&&o(U),e&&o(ne),e&&o(M),e&&o(re),e&&o(T),e&&o(ce),e&&o(v),e&&o(me),e&&o(G),e&&o(pe),e&&o(O),e&&o(ue),e&&o(S),e&&o(fe),e&&o(A),e&&o(de),e&&o(C),e&&o(ve),e&&o(h),e&&o(be),e&&o(w),e&&o(_e),e&&o(q),e&&o(ke),e&&o(D),e&&o(ze),e&&o(N),e&&o(Ee),e&&o(x),e&&o(he),e&&o(X),e&&o(ge),e&&o(W),e&&o(Pe),e&&o(Y),e&&o(Ce),e&&o(y),e&&o(we),e&&o(F),e&&o(qe),e&&o(I),e&&o(De),e&&o(Q),e&&o(xe),e&&o(V),e&&o(ye),e&&o(g),e&&o(Ie),e&&o(R),e&&o(Re),e&&o($),e&&o($e),e&&o(j),e&&o(He),e&&o(P),e&&o(Le),e&&o(Z),e&&o(Ue),e&&o(J)}}}function Di(H){let u,k;const z=[H[0],Ko];let E={$$slots:{default:[qi]},$$scope:{ctx:H}};for(let f=0;f<z.length;f+=1)E=go(E,z[f]);return u=new wi({props:E}),{c(){_i(u.$$.fragment)},l(f){ki(u.$$.fragment,f)},m(f,b){zi(u,f,b),k=!0},p(f,[b]){const _=b&1?Ei(z,[b&1&&jo(f[0]),b&0&&jo(Ko)]):{};b&2&&(_.$$scope={dirty:b,ctx:f}),u.$set(_)},i(f){k||(hi(u.$$.fragment,f),k=!0)},o(f){gi(u.$$.fragment,f),k=!1},d(f){Pi(u,f)}}}const Ko={id:"2023-08-20-1",titolo:"Come far girare Chrome in un container Docker",featured:!0,autore:"ProfMancusoa",data:"2023-08-20T00:00:00.000Z",cover:"come-far-girare-chrome-in-un-container-docker.png",introduzione:"Vediamo come \xE8 possibile far girare il browser Chrome in un container Docker in modo da aumentare la sicurezza e navigare in tutta tranquillit\xE0 anche se visitiamo dei siti possibilmente poco attendibili",pubblicato:!0,sezione:"Blog",categorie:["Linux","Docker","Security"]};function xi(H,u,k){return H.$$set=z=>{k(0,u=go(go({},u),Zo(z)))},u=Zo(u),[u]}class Hi extends di{constructor(u){super(),vi(this,u,xi,Di,bi,{})}}export{Hi as default,Ko as metadata};
