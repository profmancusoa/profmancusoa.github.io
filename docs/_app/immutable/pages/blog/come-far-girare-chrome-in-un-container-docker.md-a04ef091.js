import{S as zi,i as Ei,s as Pi,C as xo,w as hi,x as Ci,y as gi,z as qi,A as ii,f as wi,t as Di,B as xi,P as ai,l as t,r,a as p,m as l,n,u as c,h as o,c as m,p as z,F as Ii,b as a,G as s,E as yi}from"../../chunks/index-ba2b2825.js";import{P as Ri}from"../../chunks/_post-97e05344.js";import"../../chunks/helpers-e147ed77.js";import"../../chunks/Categoria.svelte_svelte_type_style_lang-d5b62848.js";function $i(H){let u,b,_,k,f,d,v,Xe,ee,We,Be,le,L,Qe,ne,U,Ye,re,M,Fe,ce,T,Ve,pe,G,je,me,S,Ze,ue,O,Je,fe,A,Ke,de,C,ti='<code class="language-bash">$ <span class="token function">git</span> clone https://github.com/profmancusoa/google-chrome-dockerized</code>',ve,E,eo,oe,oo,io,be,g,li=`<code class="language-bash">FROM debian:latest
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">wget</span> gnupg2
RUN <span class="token function">wget</span> -q -O - https://dl.google.com/linux/linux_signing_key.pub <span class="token operator">|</span> apt-key <span class="token function">add</span> -
RUN <span class="token builtin class-name">echo</span> <span class="token string">"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main"</span> <span class="token operator">>></span> /etc/apt/sources.list.d/chrome.list
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y google-chrome-stable
CMD <span class="token punctuation">[</span><span class="token string">"google-chrome"</span>, <span class="token string">"--no-sandbox"</span><span class="token punctuation">]</span></code>`,_e,q,ao,ie,so,ke,w,ni=`<code class="language-bash">$ <span class="token builtin class-name">cd</span> google-chrome-dockerized
$ <span class="token function">docker</span> build -t google-chrome <span class="token builtin class-name">.</span></code>`,ze,N,to,Ee,D,ri=`<code class="language-bash">$ <span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> google    

google-chrome                   latest             2dd030b2446b   <span class="token number">5</span> hours ago     <span class="token number">1</span>.07GB</code>`,Pe,X,lo,he,W,no,Ce,B,ro,ge,x,ci='<code class="language-bash">$ xhost +local:docker</code>',qe,Q,co,we,I,pi='<code class="language-bash">$ <span class="token function">docker</span> run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -v /dev/shm:/dev/shm  --device /dev/dri -e <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span><span class="token environment constant">$DISPLAY</span> google-chrome</code>',De,Y,F,Io,xe,V,po,Ie,P,mo,ae,uo,fo,ye,y,mi=`<code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">dgoogle</span><span class="token operator">=</span><span class="token string">'xhost +local:docker &amp;&amp; docker run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -v /dev/shm:/dev/shm  --device /dev/dri -e DISPLAY=$DISPLAY google-chrome'</span></code>`,Re,R,vo,se,bo,$e,j,_o,He,h,ko,te,zo,Eo,Le,Z,Po,Ue,J,ho,Me,Te,Ge,$,Co,K,go;return{c(){u=t("h2"),b=r("Navighiamo in sicurezza"),_=p(),k=t("p"),f=r(`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),d=p(),v=t("p"),Xe=r("Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),ee=t("code"),We=r("sandbox"),Be=r(` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),le=p(),L=t("h2"),Qe=r("Confiniamo Chrome in un container Docker"),ne=p(),U=t("p"),Ye=r(`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),re=p(),M=t("p"),Fe=r("In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),ce=p(),T=t("p"),Ve=r("Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),pe=p(),G=t("h2"),je=r("Dockerizziamo Google Chrome"),me=p(),S=t("p"),Ze=r("Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),ue=p(),O=t("h3"),Je=r("Creiamo l\u2019immagine del container"),fe=p(),A=t("p"),Ke=r("Clona il mio repository da GitHub"),de=p(),C=t("pre"),ve=p(),E=t("p"),eo=r("Qui il "),oe=t("code"),oo=r("Dockerfile"),io=r(" che ho creato per generare l\u2019immagine"),be=p(),g=t("pre"),_e=p(),q=t("p"),ao=r("Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),ie=t("code"),so=r("docker build"),ke=p(),w=t("pre"),ze=p(),N=t("p"),to=r(`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),Ee=p(),D=t("pre"),Pe=p(),X=t("h3"),lo=r("Lanciamo il browser dockerizzato"),he=p(),W=t("p"),no=r("Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Ce=p(),B=t("p"),ro=r("Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),ge=p(),x=t("pre"),qe=p(),Q=t("p"),co=r("A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),we=p(),I=t("pre"),De=p(),Y=t("p"),F=t("img"),xe=p(),V=t("h3"),po=r("Rendiamoci la vita semplice"),Ie=p(),P=t("p"),mo=r("Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),ae=t("code"),uo=r("alias"),fo=r(" nel mio .zshrc, o se usi la bash nel file .bashrc"),ye=p(),y=t("pre"),Re=p(),R=t("p"),vo=r("In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),se=t("code"),bo=r("dgoogle"),$e=p(),j=t("h3"),_o=r("Conclusioni"),He=p(),h=t("p"),ko=r("Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),te=t("em"),zo=r("\u201Cmagia\u201D"),Eo=r(" di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Le=p(),Z=t("p"),Po=r(`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),Ue=p(),J=t("p"),ho=r("Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),Me=p(),Te=t("br"),Ge=p(),$=t("p"),Co=r("PS: puoi vedere il video associato a questo post "),K=t("a"),go=r("qui"),this.h()},l(e){u=l(e,"H2",{});var i=n(u);b=c(i,"Navighiamo in sicurezza"),i.forEach(o),_=m(e),k=l(e,"P",{});var yo=n(k);f=c(yo,`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),yo.forEach(o),d=m(e),v=l(e,"P",{});var Se=n(v);Xe=c(Se,"Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),ee=l(Se,"CODE",{});var Ro=n(ee);We=c(Ro,"sandbox"),Ro.forEach(o),Be=c(Se,` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),Se.forEach(o),le=m(e),L=l(e,"H2",{});var $o=n(L);Qe=c($o,"Confiniamo Chrome in un container Docker"),$o.forEach(o),ne=m(e),U=l(e,"P",{});var Ho=n(U);Ye=c(Ho,`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),Ho.forEach(o),re=m(e),M=l(e,"P",{});var Lo=n(M);Fe=c(Lo,"In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),Lo.forEach(o),ce=m(e),T=l(e,"P",{});var Uo=n(T);Ve=c(Uo,"Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),Uo.forEach(o),pe=m(e),G=l(e,"H2",{});var Mo=n(G);je=c(Mo,"Dockerizziamo Google Chrome"),Mo.forEach(o),me=m(e),S=l(e,"P",{});var To=n(S);Ze=c(To,"Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),To.forEach(o),ue=m(e),O=l(e,"H3",{});var Go=n(O);Je=c(Go,"Creiamo l\u2019immagine del container"),Go.forEach(o),fe=m(e),A=l(e,"P",{});var So=n(A);Ke=c(So,"Clona il mio repository da GitHub"),So.forEach(o),de=m(e),C=l(e,"PRE",{class:!0});var ui=n(C);ui.forEach(o),ve=m(e),E=l(e,"P",{});var Oe=n(E);eo=c(Oe,"Qui il "),oe=l(Oe,"CODE",{});var Oo=n(oe);oo=c(Oo,"Dockerfile"),Oo.forEach(o),io=c(Oe," che ho creato per generare l\u2019immagine"),Oe.forEach(o),be=m(e),g=l(e,"PRE",{class:!0});var fi=n(g);fi.forEach(o),_e=m(e),q=l(e,"P",{});var qo=n(q);ao=c(qo,"Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),ie=l(qo,"CODE",{});var Ao=n(ie);so=c(Ao,"docker build"),Ao.forEach(o),qo.forEach(o),ke=m(e),w=l(e,"PRE",{class:!0});var di=n(w);di.forEach(o),ze=m(e),N=l(e,"P",{});var No=n(N);to=c(No,`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),No.forEach(o),Ee=m(e),D=l(e,"PRE",{class:!0});var vi=n(D);vi.forEach(o),Pe=m(e),X=l(e,"H3",{});var Xo=n(X);lo=c(Xo,"Lanciamo il browser dockerizzato"),Xo.forEach(o),he=m(e),W=l(e,"P",{});var Wo=n(W);no=c(Wo,"Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Wo.forEach(o),Ce=m(e),B=l(e,"P",{});var Bo=n(B);ro=c(Bo,"Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),Bo.forEach(o),ge=m(e),x=l(e,"PRE",{class:!0});var bi=n(x);bi.forEach(o),qe=m(e),Q=l(e,"P",{});var Qo=n(Q);co=c(Qo,"A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),Qo.forEach(o),we=m(e),I=l(e,"PRE",{class:!0});var _i=n(I);_i.forEach(o),De=m(e),Y=l(e,"P",{});var Yo=n(Y);F=l(Yo,"IMG",{src:!0,alt:!0}),Yo.forEach(o),xe=m(e),V=l(e,"H3",{});var Fo=n(V);po=c(Fo,"Rendiamoci la vita semplice"),Fo.forEach(o),Ie=m(e),P=l(e,"P",{});var Ae=n(P);mo=c(Ae,"Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),ae=l(Ae,"CODE",{});var Vo=n(ae);uo=c(Vo,"alias"),Vo.forEach(o),fo=c(Ae," nel mio .zshrc, o se usi la bash nel file .bashrc"),Ae.forEach(o),ye=m(e),y=l(e,"PRE",{class:!0});var ki=n(y);ki.forEach(o),Re=m(e),R=l(e,"P",{});var wo=n(R);vo=c(wo,"In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),se=l(wo,"CODE",{});var jo=n(se);bo=c(jo,"dgoogle"),jo.forEach(o),wo.forEach(o),$e=m(e),j=l(e,"H3",{});var Zo=n(j);_o=c(Zo,"Conclusioni"),Zo.forEach(o),He=m(e),h=l(e,"P",{});var Ne=n(h);ko=c(Ne,"Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),te=l(Ne,"EM",{});var Jo=n(te);zo=c(Jo,"\u201Cmagia\u201D"),Jo.forEach(o),Eo=c(Ne," di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Ne.forEach(o),Le=m(e),Z=l(e,"P",{});var Ko=n(Z);Po=c(Ko,`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),Ko.forEach(o),Ue=m(e),J=l(e,"P",{});var ei=n(J);ho=c(ei,"Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),ei.forEach(o),Me=m(e),Te=l(e,"BR",{}),Ge=m(e),$=l(e,"P",{});var Do=n($);Co=c(Do,"PS: puoi vedere il video associato a questo post "),K=l(Do,"A",{href:!0});var oi=n(K);go=c(oi,"qui"),oi.forEach(o),Do.forEach(o),this.h()},h(){z(C,"class","language-bash"),z(g,"class","language-bash"),z(w,"class","language-bash"),z(D,"class","language-bash"),z(x,"class","language-bash"),z(I,"class","language-bash"),Ii(F.src,Io="/img/posts/come-far-girare-chrome-in-un-container-docker/chrome-windows.webp")||z(F,"src",Io),z(F,"alt","Chrome Remote Windows"),z(y,"class","language-bash"),z(K,"href","https://www.youtube.com/embed/t3-Rr5UzRgU")},m(e,i){a(e,u,i),s(u,b),a(e,_,i),a(e,k,i),s(k,f),a(e,d,i),a(e,v,i),s(v,Xe),s(v,ee),s(ee,We),s(v,Be),a(e,le,i),a(e,L,i),s(L,Qe),a(e,ne,i),a(e,U,i),s(U,Ye),a(e,re,i),a(e,M,i),s(M,Fe),a(e,ce,i),a(e,T,i),s(T,Ve),a(e,pe,i),a(e,G,i),s(G,je),a(e,me,i),a(e,S,i),s(S,Ze),a(e,ue,i),a(e,O,i),s(O,Je),a(e,fe,i),a(e,A,i),s(A,Ke),a(e,de,i),a(e,C,i),C.innerHTML=ti,a(e,ve,i),a(e,E,i),s(E,eo),s(E,oe),s(oe,oo),s(E,io),a(e,be,i),a(e,g,i),g.innerHTML=li,a(e,_e,i),a(e,q,i),s(q,ao),s(q,ie),s(ie,so),a(e,ke,i),a(e,w,i),w.innerHTML=ni,a(e,ze,i),a(e,N,i),s(N,to),a(e,Ee,i),a(e,D,i),D.innerHTML=ri,a(e,Pe,i),a(e,X,i),s(X,lo),a(e,he,i),a(e,W,i),s(W,no),a(e,Ce,i),a(e,B,i),s(B,ro),a(e,ge,i),a(e,x,i),x.innerHTML=ci,a(e,qe,i),a(e,Q,i),s(Q,co),a(e,we,i),a(e,I,i),I.innerHTML=pi,a(e,De,i),a(e,Y,i),s(Y,F),a(e,xe,i),a(e,V,i),s(V,po),a(e,Ie,i),a(e,P,i),s(P,mo),s(P,ae),s(ae,uo),s(P,fo),a(e,ye,i),a(e,y,i),y.innerHTML=mi,a(e,Re,i),a(e,R,i),s(R,vo),s(R,se),s(se,bo),a(e,$e,i),a(e,j,i),s(j,_o),a(e,He,i),a(e,h,i),s(h,ko),s(h,te),s(te,zo),s(h,Eo),a(e,Le,i),a(e,Z,i),s(Z,Po),a(e,Ue,i),a(e,J,i),s(J,ho),a(e,Me,i),a(e,Te,i),a(e,Ge,i),a(e,$,i),s($,Co),s($,K),s(K,go)},p:yi,d(e){e&&o(u),e&&o(_),e&&o(k),e&&o(d),e&&o(v),e&&o(le),e&&o(L),e&&o(ne),e&&o(U),e&&o(re),e&&o(M),e&&o(ce),e&&o(T),e&&o(pe),e&&o(G),e&&o(me),e&&o(S),e&&o(ue),e&&o(O),e&&o(fe),e&&o(A),e&&o(de),e&&o(C),e&&o(ve),e&&o(E),e&&o(be),e&&o(g),e&&o(_e),e&&o(q),e&&o(ke),e&&o(w),e&&o(ze),e&&o(N),e&&o(Ee),e&&o(D),e&&o(Pe),e&&o(X),e&&o(he),e&&o(W),e&&o(Ce),e&&o(B),e&&o(ge),e&&o(x),e&&o(qe),e&&o(Q),e&&o(we),e&&o(I),e&&o(De),e&&o(Y),e&&o(xe),e&&o(V),e&&o(Ie),e&&o(P),e&&o(ye),e&&o(y),e&&o(Re),e&&o(R),e&&o($e),e&&o(j),e&&o(He),e&&o(h),e&&o(Le),e&&o(Z),e&&o(Ue),e&&o(J),e&&o(Me),e&&o(Te),e&&o(Ge),e&&o($)}}}function Hi(H){let u,b;const _=[H[0],si];let k={$$slots:{default:[$i]},$$scope:{ctx:H}};for(let f=0;f<_.length;f+=1)k=xo(k,_[f]);return u=new Ri({props:k}),{c(){hi(u.$$.fragment)},l(f){Ci(u.$$.fragment,f)},m(f,d){gi(u,f,d),b=!0},p(f,[d]){const v=d&1?qi(_,[d&1&&ii(f[0]),d&0&&ii(si)]):{};d&2&&(v.$$scope={dirty:d,ctx:f}),u.$set(v)},i(f){b||(wi(u.$$.fragment,f),b=!0)},o(f){Di(u.$$.fragment,f),b=!1},d(f){xi(u,f)}}}const si={id:"2023-08-20-1",titolo:"Come far girare Chrome in un container Docker",featured:!1,autore:"ProfMancusoa",data:"2023-08-20T00:00:00.000Z",cover:"come-far-girare-chrome-in-un-container-docker.webp",introduzione:"Eseguire Chrome e navigare in sicurezza tramite Docker",pubblicato:!0,sezione:"Blog",categorie:["Linux","Docker","Security"]};function Li(H,u,b){return H.$$set=_=>{b(0,u=xo(xo({},u),ai(_)))},u=ai(u),[u]}class Si extends zi{constructor(u){super(),Ei(this,u,Li,Hi,Pi,{})}}export{Si as default,si as metadata};
