import{S as eo,i as io,s as oo,l as t,m as l,n,h as i,F as gi,p as _,b as a,G as s,E as Pi,C as Ci,w as ao,x as so,y as to,z as Co,A as Zi,f as lo,t as no,B as ro,P as Ji,a as p,r as c,c as u,u as m}from"../../chunks/index-c6be98ca.js";import{P as wo}from"../../chunks/_post-225ef9a4.js";import"../../chunks/helpers-e147ed77.js";import"../../chunks/Categoria.svelte_svelte_type_style_lang-d76a398c.js";function qo(z){let r,f,v;return{c(){r=t("div"),f=t("iframe"),this.h()},l(b){r=l(b,"DIV",{class:!0});var d=n(r);f=l(d,"IFRAME",{src:!0,title:!0,frameborder:!0,allow:!0,class:!0}),n(f).forEach(i),d.forEach(i),this.h()},h(){gi(f.src,v=z[0])||_(f,"src",v),_(f,"title","YouTube video player"),_(f,"frameborder","0"),_(f,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),f.allowFullscreen=!0,_(f,"class","svelte-16laon1"),_(r,"class","video svelte-16laon1")},m(b,d){a(b,r,d),s(r,f)},p(b,[d]){d&1&&!gi(f.src,v=b[0])&&_(f,"src",v)},i:Pi,o:Pi,d(b){b&&i(r)}}}function Do(z,r,f){let{video_url:v}=r;return z.$$set=b=>{"video_url"in b&&f(0,v=b.video_url)},[v]}class xo extends eo{constructor(r){super(),io(this,r,Do,qo,oo,{video_url:0})}}function $o(z){let r,f,v,b,d,k,H,te,h,Ae,K,Ne,Ve,le,L,Xe,ne,U,We,re,M,Ye,ce,T,Fe,me,G,Qe,pe,O,Be,ue,S,je,de,A,Ze,fe,C,co='<code class="language-bash">$ <span class="token function">git</span> clone https://github.com/profmancusoa/google-chrome-dockerized</code>',ve,E,Je,ee,Ke,ei,be,w,mo=`<code class="language-bash">FROM debian:latest
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">wget</span> gnupg2
RUN <span class="token function">wget</span> -q -O - https://dl.google.com/linux/linux_signing_key.pub <span class="token operator">|</span> apt-key <span class="token function">add</span> -
RUN <span class="token builtin class-name">echo</span> <span class="token string">"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main"</span> <span class="token operator">>></span> /etc/apt/sources.list.d/chrome.list
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y google-chrome-stable
CMD <span class="token punctuation">[</span><span class="token string">"google-chrome"</span>, <span class="token string">"--no-sandbox"</span><span class="token punctuation">]</span></code>`,_e,q,ii,ie,oi,ke,D,po=`<code class="language-bash">$ <span class="token builtin class-name">cd</span> google-chrome-dockerized
$ <span class="token function">docker</span> build -t google-chrome <span class="token builtin class-name">.</span></code>`,ze,N,ai,he,x,uo=`<code class="language-bash">$ <span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> google    

google-chrome                   latest             2dd030b2446b   <span class="token number">5</span> hours ago     <span class="token number">1</span>.07GB</code>`,Ee,V,si,ge,X,ti,Pe,W,li,Ce,$,fo='<code class="language-bash">$ xhost +local:docker</code>',we,Y,ni,qe,y,vo='<code class="language-bash">$ <span class="token function">docker</span> run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -v /dev/shm:/dev/shm  --device /dev/dri -e <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span><span class="token environment constant">$DISPLAY</span> google-chrome</code>',De,F,Q,wi,xe,B,ri,$e,g,ci,oe,mi,pi,ye,I,bo=`<code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">dgoogle</span><span class="token operator">=</span><span class="token string">'xhost +local:docker &amp;&amp; docker run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -v /dev/shm:/dev/shm  --device /dev/dri -e DISPLAY=$DISPLAY google-chrome'</span></code>`,Ie,R,ui,ae,di,Re,j,fi,He,P,vi,se,bi,_i,Le,Z,ki,Ue,J,zi,Me;return r=new xo({props:{video_url:"https://www.youtube.com/embed/t3-Rr5UzRgU"}}),{c(){ao(r.$$.fragment),f=p(),v=t("h2"),b=c("Navighiamo in sicurezza"),d=p(),k=t("p"),H=c(`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),te=p(),h=t("p"),Ae=c("Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),K=t("code"),Ne=c("sandbox"),Ve=c(` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),le=p(),L=t("h2"),Xe=c("Confiniamo Chrome in un container Docker"),ne=p(),U=t("p"),We=c(`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),re=p(),M=t("p"),Ye=c("In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),ce=p(),T=t("p"),Fe=c("Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),me=p(),G=t("h2"),Qe=c("Dockerizziamo Google Chrome"),pe=p(),O=t("p"),Be=c("Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),ue=p(),S=t("h3"),je=c("Creiamo l\u2019immagine del container"),de=p(),A=t("p"),Ze=c("Clona il mio repository da GitHub"),fe=p(),C=t("pre"),ve=p(),E=t("p"),Je=c("Qui il "),ee=t("code"),Ke=c("Dockerfile"),ei=c(" che ho creato per generare l\u2019immagine"),be=p(),w=t("pre"),_e=p(),q=t("p"),ii=c("Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),ie=t("code"),oi=c("docker build"),ke=p(),D=t("pre"),ze=p(),N=t("p"),ai=c(`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),he=p(),x=t("pre"),Ee=p(),V=t("h3"),si=c("Lanciamo il browser dockerizzato"),ge=p(),X=t("p"),ti=c("Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Pe=p(),W=t("p"),li=c("Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),Ce=p(),$=t("pre"),we=p(),Y=t("p"),ni=c("A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),qe=p(),y=t("pre"),De=p(),F=t("p"),Q=t("img"),xe=p(),B=t("h3"),ri=c("Rendiamoci la vita semplice"),$e=p(),g=t("p"),ci=c("Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),oe=t("code"),mi=c("alias"),pi=c(" nel mio .zshrc, o se usi la bash nel file .bashrc"),ye=p(),I=t("pre"),Ie=p(),R=t("p"),ui=c("In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),ae=t("code"),di=c("dgoogle"),Re=p(),j=t("h3"),fi=c("Conclusioni"),He=p(),P=t("p"),vi=c("Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),se=t("em"),bi=c("\u201Cmagia\u201D"),_i=c(" di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Le=p(),Z=t("p"),ki=c(`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),Ue=p(),J=t("p"),zi=c("Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),this.h()},l(e){so(r.$$.fragment,e),f=u(e),v=l(e,"H2",{});var o=n(v);b=m(o,"Navighiamo in sicurezza"),o.forEach(i),d=u(e),k=l(e,"P",{});var qi=n(k);H=m(qi,`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),qi.forEach(i),te=u(e),h=l(e,"P",{});var Te=n(h);Ae=m(Te,"Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),K=l(Te,"CODE",{});var Di=n(K);Ne=m(Di,"sandbox"),Di.forEach(i),Ve=m(Te,` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),Te.forEach(i),le=u(e),L=l(e,"H2",{});var xi=n(L);Xe=m(xi,"Confiniamo Chrome in un container Docker"),xi.forEach(i),ne=u(e),U=l(e,"P",{});var $i=n(U);We=m($i,`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),$i.forEach(i),re=u(e),M=l(e,"P",{});var yi=n(M);Ye=m(yi,"In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),yi.forEach(i),ce=u(e),T=l(e,"P",{});var Ii=n(T);Fe=m(Ii,"Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),Ii.forEach(i),me=u(e),G=l(e,"H2",{});var Ri=n(G);Qe=m(Ri,"Dockerizziamo Google Chrome"),Ri.forEach(i),pe=u(e),O=l(e,"P",{});var Hi=n(O);Be=m(Hi,"Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),Hi.forEach(i),ue=u(e),S=l(e,"H3",{});var Li=n(S);je=m(Li,"Creiamo l\u2019immagine del container"),Li.forEach(i),de=u(e),A=l(e,"P",{});var Ui=n(A);Ze=m(Ui,"Clona il mio repository da GitHub"),Ui.forEach(i),fe=u(e),C=l(e,"PRE",{class:!0});var _o=n(C);_o.forEach(i),ve=u(e),E=l(e,"P",{});var Ge=n(E);Je=m(Ge,"Qui il "),ee=l(Ge,"CODE",{});var Mi=n(ee);Ke=m(Mi,"Dockerfile"),Mi.forEach(i),ei=m(Ge," che ho creato per generare l\u2019immagine"),Ge.forEach(i),be=u(e),w=l(e,"PRE",{class:!0});var ko=n(w);ko.forEach(i),_e=u(e),q=l(e,"P",{});var hi=n(q);ii=m(hi,"Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),ie=l(hi,"CODE",{});var Ti=n(ie);oi=m(Ti,"docker build"),Ti.forEach(i),hi.forEach(i),ke=u(e),D=l(e,"PRE",{class:!0});var zo=n(D);zo.forEach(i),ze=u(e),N=l(e,"P",{});var Gi=n(N);ai=m(Gi,`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),Gi.forEach(i),he=u(e),x=l(e,"PRE",{class:!0});var ho=n(x);ho.forEach(i),Ee=u(e),V=l(e,"H3",{});var Oi=n(V);si=m(Oi,"Lanciamo il browser dockerizzato"),Oi.forEach(i),ge=u(e),X=l(e,"P",{});var Si=n(X);ti=m(Si,"Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Si.forEach(i),Pe=u(e),W=l(e,"P",{});var Ai=n(W);li=m(Ai,"Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),Ai.forEach(i),Ce=u(e),$=l(e,"PRE",{class:!0});var Eo=n($);Eo.forEach(i),we=u(e),Y=l(e,"P",{});var Ni=n(Y);ni=m(Ni,"A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),Ni.forEach(i),qe=u(e),y=l(e,"PRE",{class:!0});var go=n(y);go.forEach(i),De=u(e),F=l(e,"P",{});var Vi=n(F);Q=l(Vi,"IMG",{src:!0,alt:!0}),Vi.forEach(i),xe=u(e),B=l(e,"H3",{});var Xi=n(B);ri=m(Xi,"Rendiamoci la vita semplice"),Xi.forEach(i),$e=u(e),g=l(e,"P",{});var Oe=n(g);ci=m(Oe,"Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),oe=l(Oe,"CODE",{});var Wi=n(oe);mi=m(Wi,"alias"),Wi.forEach(i),pi=m(Oe," nel mio .zshrc, o se usi la bash nel file .bashrc"),Oe.forEach(i),ye=u(e),I=l(e,"PRE",{class:!0});var Po=n(I);Po.forEach(i),Ie=u(e),R=l(e,"P",{});var Ei=n(R);ui=m(Ei,"In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),ae=l(Ei,"CODE",{});var Yi=n(ae);di=m(Yi,"dgoogle"),Yi.forEach(i),Ei.forEach(i),Re=u(e),j=l(e,"H3",{});var Fi=n(j);fi=m(Fi,"Conclusioni"),Fi.forEach(i),He=u(e),P=l(e,"P",{});var Se=n(P);vi=m(Se,"Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),se=l(Se,"EM",{});var Qi=n(se);bi=m(Qi,"\u201Cmagia\u201D"),Qi.forEach(i),_i=m(Se," di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Se.forEach(i),Le=u(e),Z=l(e,"P",{});var Bi=n(Z);ki=m(Bi,`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),Bi.forEach(i),Ue=u(e),J=l(e,"P",{});var ji=n(J);zi=m(ji,"Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),ji.forEach(i),this.h()},h(){_(C,"class","language-bash"),_(w,"class","language-bash"),_(D,"class","language-bash"),_(x,"class","language-bash"),_($,"class","language-bash"),_(y,"class","language-bash"),gi(Q.src,wi="/img/posts/come-far-girare-chrome-in-un-container-docker/chrome-windows.webp")||_(Q,"src",wi),_(Q,"alt","Chrome Remote Windows"),_(I,"class","language-bash")},m(e,o){to(r,e,o),a(e,f,o),a(e,v,o),s(v,b),a(e,d,o),a(e,k,o),s(k,H),a(e,te,o),a(e,h,o),s(h,Ae),s(h,K),s(K,Ne),s(h,Ve),a(e,le,o),a(e,L,o),s(L,Xe),a(e,ne,o),a(e,U,o),s(U,We),a(e,re,o),a(e,M,o),s(M,Ye),a(e,ce,o),a(e,T,o),s(T,Fe),a(e,me,o),a(e,G,o),s(G,Qe),a(e,pe,o),a(e,O,o),s(O,Be),a(e,ue,o),a(e,S,o),s(S,je),a(e,de,o),a(e,A,o),s(A,Ze),a(e,fe,o),a(e,C,o),C.innerHTML=co,a(e,ve,o),a(e,E,o),s(E,Je),s(E,ee),s(ee,Ke),s(E,ei),a(e,be,o),a(e,w,o),w.innerHTML=mo,a(e,_e,o),a(e,q,o),s(q,ii),s(q,ie),s(ie,oi),a(e,ke,o),a(e,D,o),D.innerHTML=po,a(e,ze,o),a(e,N,o),s(N,ai),a(e,he,o),a(e,x,o),x.innerHTML=uo,a(e,Ee,o),a(e,V,o),s(V,si),a(e,ge,o),a(e,X,o),s(X,ti),a(e,Pe,o),a(e,W,o),s(W,li),a(e,Ce,o),a(e,$,o),$.innerHTML=fo,a(e,we,o),a(e,Y,o),s(Y,ni),a(e,qe,o),a(e,y,o),y.innerHTML=vo,a(e,De,o),a(e,F,o),s(F,Q),a(e,xe,o),a(e,B,o),s(B,ri),a(e,$e,o),a(e,g,o),s(g,ci),s(g,oe),s(oe,mi),s(g,pi),a(e,ye,o),a(e,I,o),I.innerHTML=bo,a(e,Ie,o),a(e,R,o),s(R,ui),s(R,ae),s(ae,di),a(e,Re,o),a(e,j,o),s(j,fi),a(e,He,o),a(e,P,o),s(P,vi),s(P,se),s(se,bi),s(P,_i),a(e,Le,o),a(e,Z,o),s(Z,ki),a(e,Ue,o),a(e,J,o),s(J,zi),Me=!0},p:Pi,i(e){Me||(lo(r.$$.fragment,e),Me=!0)},o(e){no(r.$$.fragment,e),Me=!1},d(e){ro(r,e),e&&i(f),e&&i(v),e&&i(d),e&&i(k),e&&i(te),e&&i(h),e&&i(le),e&&i(L),e&&i(ne),e&&i(U),e&&i(re),e&&i(M),e&&i(ce),e&&i(T),e&&i(me),e&&i(G),e&&i(pe),e&&i(O),e&&i(ue),e&&i(S),e&&i(de),e&&i(A),e&&i(fe),e&&i(C),e&&i(ve),e&&i(E),e&&i(be),e&&i(w),e&&i(_e),e&&i(q),e&&i(ke),e&&i(D),e&&i(ze),e&&i(N),e&&i(he),e&&i(x),e&&i(Ee),e&&i(V),e&&i(ge),e&&i(X),e&&i(Pe),e&&i(W),e&&i(Ce),e&&i($),e&&i(we),e&&i(Y),e&&i(qe),e&&i(y),e&&i(De),e&&i(F),e&&i(xe),e&&i(B),e&&i($e),e&&i(g),e&&i(ye),e&&i(I),e&&i(Ie),e&&i(R),e&&i(Re),e&&i(j),e&&i(He),e&&i(P),e&&i(Le),e&&i(Z),e&&i(Ue),e&&i(J)}}}function yo(z){let r,f;const v=[z[0],Ki];let b={$$slots:{default:[$o]},$$scope:{ctx:z}};for(let d=0;d<v.length;d+=1)b=Ci(b,v[d]);return r=new wo({props:b}),{c(){ao(r.$$.fragment)},l(d){so(r.$$.fragment,d)},m(d,k){to(r,d,k),f=!0},p(d,[k]){const H=k&1?Co(v,[k&1&&Zi(d[0]),k&0&&Zi(Ki)]):{};k&2&&(H.$$scope={dirty:k,ctx:d}),r.$set(H)},i(d){f||(lo(r.$$.fragment,d),f=!0)},o(d){no(r.$$.fragment,d),f=!1},d(d){ro(r,d)}}}const Ki={id:"2023-08-20-1",titolo:"Come far girare Chrome in un container Docker",featured:!1,autore:"ProfMancusoa",data:"2023-08-20T00:00:00.000Z",cover:"come-far-girare-chrome-in-un-container-docker.webp",introduzione:"Vediamo come \xE8 possibile far girare il browser Chrome in un container Docker in modo da aumentare la sicurezza e navigare in tutta tranquillit\xE0 anche se visitiamo dei siti possibilmente poco attendibili",pubblicato:!0,sezione:"Blog",categorie:["Linux","Docker","Security"]};function Io(z,r,f){return z.$$set=v=>{f(0,r=Ci(Ci({},r),Ji(v)))},r=Ji(r),[r]}class Mo extends eo{constructor(r){super(),io(this,r,Io,yo,oo,{})}}export{Mo as default,Ki as metadata};
