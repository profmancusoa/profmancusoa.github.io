import{S as oi,i as ii,s as ai,l as t,m as l,n,h as o,F as Po,p as _,b as a,G as s,E as Co,C as wo,w as si,x as ti,y as li,z as Ci,A as Jo,f as ni,t as ri,B as ci,P as Ko,a as p,r as c,c as u,u as m}from"../../chunks/index-ba2b2825.js";import{P as wi}from"../../chunks/_post-97e05344.js";import"../../chunks/helpers-e147ed77.js";import"../../chunks/Categoria.svelte_svelte_type_style_lang-d5b62848.js";function qi(z){let r,d,v;return{c(){r=t("div"),d=t("iframe"),this.h()},l(b){r=l(b,"DIV",{class:!0});var f=n(r);d=l(f,"IFRAME",{src:!0,title:!0,frameborder:!0,allow:!0,class:!0}),n(d).forEach(o),f.forEach(o),this.h()},h(){Po(d.src,v=z[0])||_(d,"src",v),_(d,"title","YouTube video player"),_(d,"frameborder","0"),_(d,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),d.allowFullscreen=!0,_(d,"class","svelte-16laon1"),_(r,"class","video svelte-16laon1")},m(b,f){a(b,r,f),s(r,d)},p(b,[f]){f&1&&!Po(d.src,v=b[0])&&_(d,"src",v)},i:Co,o:Co,d(b){b&&o(r)}}}function Di(z,r,d){let{video_url:v}=r;return z.$$set=b=>{"video_url"in b&&d(0,v=b.video_url)},[v]}class xi extends oi{constructor(r){super(),ii(this,r,Di,qi,ai,{video_url:0})}}function $i(z){let r,d,v,b,f,k,H,te,E,Ae,K,Ne,Xe,le,L,Ve,ne,U,We,re,M,Ye,ce,T,Fe,me,G,Qe,pe,O,Be,ue,S,je,fe,A,Ze,de,C,mi='<code class="language-bash">$ <span class="token function">git</span> clone https://github.com/profmancusoa/google-chrome-dockerized</code>',ve,h,Je,ee,Ke,eo,be,w,pi=`<code class="language-bash">FROM debian:latest
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">wget</span> gnupg2
RUN <span class="token function">wget</span> -q -O - https://dl.google.com/linux/linux_signing_key.pub <span class="token operator">|</span> apt-key <span class="token function">add</span> -
RUN <span class="token builtin class-name">echo</span> <span class="token string">"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main"</span> <span class="token operator">>></span> /etc/apt/sources.list.d/chrome.list
RUN <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token function">install</span> -y google-chrome-stable
CMD <span class="token punctuation">[</span><span class="token string">"google-chrome"</span>, <span class="token string">"--no-sandbox"</span><span class="token punctuation">]</span></code>`,_e,q,oo,oe,io,ke,D,ui=`<code class="language-bash">$ <span class="token builtin class-name">cd</span> google-chrome-dockerized
$ <span class="token function">docker</span> build -t google-chrome <span class="token builtin class-name">.</span></code>`,ze,N,ao,Ee,x,fi=`<code class="language-bash">$ <span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> google    

google-chrome                   latest             2dd030b2446b   <span class="token number">5</span> hours ago     <span class="token number">1</span>.07GB</code>`,he,X,so,ge,V,to,Pe,W,lo,Ce,$,di='<code class="language-bash">$ xhost +local:docker</code>',we,Y,no,qe,y,vi='<code class="language-bash">$ <span class="token function">docker</span> run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -v /dev/shm:/dev/shm  --device /dev/dri -e <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span><span class="token environment constant">$DISPLAY</span> google-chrome</code>',De,F,Q,qo,xe,B,ro,$e,g,co,ie,mo,po,ye,I,bi=`<code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">dgoogle</span><span class="token operator">=</span><span class="token string">'xhost +local:docker &amp;&amp; docker run --rm -ti -v /tmp/.X11-unix:/tmp/.X11-unix -v /dev/shm:/dev/shm  --device /dev/dri -e DISPLAY=$DISPLAY google-chrome'</span></code>`,Ie,R,uo,ae,fo,Re,j,vo,He,P,bo,se,_o,ko,Le,Z,zo,Ue,J,Eo,Me;return r=new xi({props:{video_url:"https://www.youtube.com/embed/t3-Rr5UzRgU"}}),{c(){si(r.$$.fragment),d=p(),v=t("h2"),b=c("Navighiamo in sicurezza"),f=p(),k=t("p"),H=c(`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),te=p(),E=t("p"),Ae=c("Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),K=t("code"),Ne=c("sandbox"),Xe=c(` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),le=p(),L=t("h2"),Ve=c("Confiniamo Chrome in un container Docker"),ne=p(),U=t("p"),We=c(`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),re=p(),M=t("p"),Ye=c("In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),ce=p(),T=t("p"),Fe=c("Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),me=p(),G=t("h2"),Qe=c("Dockerizziamo Google Chrome"),pe=p(),O=t("p"),Be=c("Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),ue=p(),S=t("h3"),je=c("Creiamo l\u2019immagine del container"),fe=p(),A=t("p"),Ze=c("Clona il mio repository da GitHub"),de=p(),C=t("pre"),ve=p(),h=t("p"),Je=c("Qui il "),ee=t("code"),Ke=c("Dockerfile"),eo=c(" che ho creato per generare l\u2019immagine"),be=p(),w=t("pre"),_e=p(),q=t("p"),oo=c("Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),oe=t("code"),io=c("docker build"),ke=p(),D=t("pre"),ze=p(),N=t("p"),ao=c(`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),Ee=p(),x=t("pre"),he=p(),X=t("h3"),so=c("Lanciamo il browser dockerizzato"),ge=p(),V=t("p"),to=c("Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Pe=p(),W=t("p"),lo=c("Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),Ce=p(),$=t("pre"),we=p(),Y=t("p"),no=c("A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),qe=p(),y=t("pre"),De=p(),F=t("p"),Q=t("img"),xe=p(),B=t("h3"),ro=c("Rendiamoci la vita semplice"),$e=p(),g=t("p"),co=c("Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),ie=t("code"),mo=c("alias"),po=c(" nel mio .zshrc, o se usi la bash nel file .bashrc"),ye=p(),I=t("pre"),Ie=p(),R=t("p"),uo=c("In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),ae=t("code"),fo=c("dgoogle"),Re=p(),j=t("h3"),vo=c("Conclusioni"),He=p(),P=t("p"),bo=c("Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),se=t("em"),_o=c("\u201Cmagia\u201D"),ko=c(" di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Le=p(),Z=t("p"),zo=c(`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),Ue=p(),J=t("p"),Eo=c("Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),this.h()},l(e){ti(r.$$.fragment,e),d=u(e),v=l(e,"H2",{});var i=n(v);b=m(i,"Navighiamo in sicurezza"),i.forEach(o),f=u(e),k=l(e,"P",{});var Do=n(k);H=m(Do,`Google Chrome \xE8 uno dei pi\xF9 diffusi browser al momento ed offre una navigazione online veloce e confortevole.
Tuttavia quando navighiamo il Web le insidie sono dietro l\u2019angolo e a volte molto ben nascoste.
Infatti tutti noi possiamo essere vittime di phishing o raggiri simili.`),Do.forEach(o),te=u(e),E=l(e,"P",{});var Te=n(E);Ae=m(Te,"Per limitare una serie di possibili problemi Chrome implementa un meccanismo di "),K=l(Te,"CODE",{});var xo=n(K);Ne=m(xo,"sandbox"),xo.forEach(o),Xe=m(Te,` che cerca di isolare il browser dal sistema sottostante.
Tuttavia per quanto efficace questo meccanismo pu\xF2 essere migliorato isolando completamente il browser dal sistema sottostando, non utilizzando nemmeno lo stesso filesystem.`),Te.forEach(o),le=u(e),L=l(e,"H2",{});var $o=n(L);Ve=m($o,"Confiniamo Chrome in un container Docker"),$o.forEach(o),ne=u(e),U=l(e,"P",{});var yo=n(U);We=m(yo,`Per aggiungere questa sicurezza aggiuntiva possiamo confinare l\u2019esecuzione di Google Chrome in un container Docker. In questo modo il browser verr\xE0 eseguito solo ed esclusivamente all\u2019interno del container Docker, pertanto essendo completamente isolato dal sistema sottostante.
Chrome non avr\xE0 accesso al filesystem del nostro PC e non vedr\xE0 gli altri processi del sistema.`),yo.forEach(o),re=u(e),M=l(e,"P",{});var Io=n(M);Ye=m(Io,"In questo modo avremo a disposizione un browser completamente isolato dal resto del sistema che potremo utilizzare per navigare in maniera pi\xF9 rilassata, potremo permetterci di visitare anche siti che ci paiono poco trasparenti. In caso succedesse qualcosa ci\xF2 avverrebbe solo ed esclusivamente all\u2019interno del container."),Io.forEach(o),ce=u(e),T=l(e,"P",{});var Ro=n(T);Fe=m(Ro,"Una volta terminata la sessione di navigazione il container Docker verr\xE0 completamente distrutto e non rimarr\xE0 nessuna traccia della nostra navigazione precedente."),Ro.forEach(o),me=u(e),G=l(e,"H2",{});var Ho=n(G);Qe=m(Ho,"Dockerizziamo Google Chrome"),Ho.forEach(o),pe=u(e),O=l(e,"P",{});var Lo=n(O);Be=m(Lo,"Per poter far girare Chrome in un container Docker dobbiamo prima di tutti creare l\u2019immagine del container e poi dovremo lanciare il container in maniera opportuna"),Lo.forEach(o),ue=u(e),S=l(e,"H3",{});var Uo=n(S);je=m(Uo,"Creiamo l\u2019immagine del container"),Uo.forEach(o),fe=u(e),A=l(e,"P",{});var Mo=n(A);Ze=m(Mo,"Clona il mio repository da GitHub"),Mo.forEach(o),de=u(e),C=l(e,"PRE",{class:!0});var _i=n(C);_i.forEach(o),ve=u(e),h=l(e,"P",{});var Ge=n(h);Je=m(Ge,"Qui il "),ee=l(Ge,"CODE",{});var To=n(ee);Ke=m(To,"Dockerfile"),To.forEach(o),eo=m(Ge," che ho creato per generare l\u2019immagine"),Ge.forEach(o),be=u(e),w=l(e,"PRE",{class:!0});var ki=n(w);ki.forEach(o),_e=u(e),q=l(e,"P",{});var ho=n(q);oo=m(ho,"Ora entro la directory e inizia il build dell\u2019immagine docker tramite il comando "),oe=l(ho,"CODE",{});var Go=n(oe);io=m(Go,"docker build"),Go.forEach(o),ho.forEach(o),ke=u(e),D=l(e,"PRE",{class:!0});var zi=n(D);zi.forEach(o),ze=u(e),N=l(e,"P",{});var Oo=n(N);ao=m(Oo,`Questo processo richieder\xE0 qualche minuto, anche in funzione della velocit\xE0 della tua connessione Internet.
Una volta terminato una nuova immagine sar\xE0 disponibile sul tuo sistema`),Oo.forEach(o),Ee=u(e),x=l(e,"PRE",{class:!0});var Ei=n(x);Ei.forEach(o),he=u(e),X=l(e,"H3",{});var So=n(X);so=m(So,"Lanciamo il browser dockerizzato"),So.forEach(o),ge=u(e),V=l(e,"P",{});var Ao=n(V);to=m(Ao,"Per eseguire Chrome all\u2019interno del container dobbiamo permettere al container stesso di utilizzare lo Unix socket del server X del nostro sistema. In questo modo Chrome potr\xE0 essere visualizzato correttamente sul nostro sistema."),Ao.forEach(o),Pe=u(e),W=l(e,"P",{});var No=n(W);lo=m(No,"Per far ci\xF2 dobbiamo anche essere sicuri di concedere i permessi di connessione al container docker, con il seguente comaando"),No.forEach(o),Ce=u(e),$=l(e,"PRE",{class:!0});var hi=n($);hi.forEach(o),we=u(e),Y=l(e,"P",{});var Xo=n(Y);no=m(Xo,"A questo punto potremo lanciare il docker che eseguir\xE0 correttamente Chrome in un ambiente isolato"),Xo.forEach(o),qe=u(e),y=l(e,"PRE",{class:!0});var gi=n(y);gi.forEach(o),De=u(e),F=l(e,"P",{});var Vo=n(F);Q=l(Vo,"IMG",{src:!0,alt:!0}),Vo.forEach(o),xe=u(e),B=l(e,"H3",{});var Wo=n(B);ro=m(Wo,"Rendiamoci la vita semplice"),Wo.forEach(o),$e=u(e),g=l(e,"P",{});var Oe=n(g);co=m(Oe,"Per evitare di dover ricordarmi questi comandi ogni volta che voglio far partire una sessione di navigazione sicura, creo un "),ie=l(Oe,"CODE",{});var Yo=n(ie);mo=m(Yo,"alias"),Yo.forEach(o),po=m(Oe," nel mio .zshrc, o se usi la bash nel file .bashrc"),Oe.forEach(o),ye=u(e),I=l(e,"PRE",{class:!0});var Pi=n(I);Pi.forEach(o),Ie=u(e),R=l(e,"P",{});var go=n(R);uo=m(go,"In questo modo potr\xF2 iniziare la sessione di navigazione sicura soltanto digitando "),ae=l(go,"CODE",{});var Fo=n(ae);fo=m(Fo,"dgoogle"),Fo.forEach(o),go.forEach(o),Re=u(e),j=l(e,"H3",{});var Qo=n(j);vo=m(Qo,"Conclusioni"),Qo.forEach(o),He=u(e),P=l(e,"P",{});var Se=n(P);bo=m(Se,"Utilizzando sapientemente gli strumenti messi a disposizione da Linux e sfruttando la "),se=l(Se,"EM",{});var Bo=n(se);_o=m(Bo,"\u201Cmagia\u201D"),Bo.forEach(o),ko=m(Se," di Docker abbiamo la possibilit\xE0 di aumentare la sicurezza delle nostre sessioni di navigazione Web."),Se.forEach(o),Le=u(e),Z=l(e,"P",{});var jo=n(Z);zo=m(jo,`Vi invito a sperimentare questa tecnica, e a farmi sapere se vi \xE8 utile e se avete idee di miglioramento.
Non dimenticate di condividere questo articolo con la vostra rete, potrebbe essere utile anche ai vostri amici o altre persone.`),jo.forEach(o),Ue=u(e),J=l(e,"P",{});var Zo=n(J);Eo=m(Zo,"Se l\u2019articolo ti \xE8 piaciuto metti un like e lascia un commento qui sotto."),Zo.forEach(o),this.h()},h(){_(C,"class","language-bash"),_(w,"class","language-bash"),_(D,"class","language-bash"),_(x,"class","language-bash"),_($,"class","language-bash"),_(y,"class","language-bash"),Po(Q.src,qo="/img/posts/come-far-girare-chrome-in-un-container-docker/chrome-windows.webp")||_(Q,"src",qo),_(Q,"alt","Chrome Remote Windows"),_(I,"class","language-bash")},m(e,i){li(r,e,i),a(e,d,i),a(e,v,i),s(v,b),a(e,f,i),a(e,k,i),s(k,H),a(e,te,i),a(e,E,i),s(E,Ae),s(E,K),s(K,Ne),s(E,Xe),a(e,le,i),a(e,L,i),s(L,Ve),a(e,ne,i),a(e,U,i),s(U,We),a(e,re,i),a(e,M,i),s(M,Ye),a(e,ce,i),a(e,T,i),s(T,Fe),a(e,me,i),a(e,G,i),s(G,Qe),a(e,pe,i),a(e,O,i),s(O,Be),a(e,ue,i),a(e,S,i),s(S,je),a(e,fe,i),a(e,A,i),s(A,Ze),a(e,de,i),a(e,C,i),C.innerHTML=mi,a(e,ve,i),a(e,h,i),s(h,Je),s(h,ee),s(ee,Ke),s(h,eo),a(e,be,i),a(e,w,i),w.innerHTML=pi,a(e,_e,i),a(e,q,i),s(q,oo),s(q,oe),s(oe,io),a(e,ke,i),a(e,D,i),D.innerHTML=ui,a(e,ze,i),a(e,N,i),s(N,ao),a(e,Ee,i),a(e,x,i),x.innerHTML=fi,a(e,he,i),a(e,X,i),s(X,so),a(e,ge,i),a(e,V,i),s(V,to),a(e,Pe,i),a(e,W,i),s(W,lo),a(e,Ce,i),a(e,$,i),$.innerHTML=di,a(e,we,i),a(e,Y,i),s(Y,no),a(e,qe,i),a(e,y,i),y.innerHTML=vi,a(e,De,i),a(e,F,i),s(F,Q),a(e,xe,i),a(e,B,i),s(B,ro),a(e,$e,i),a(e,g,i),s(g,co),s(g,ie),s(ie,mo),s(g,po),a(e,ye,i),a(e,I,i),I.innerHTML=bi,a(e,Ie,i),a(e,R,i),s(R,uo),s(R,ae),s(ae,fo),a(e,Re,i),a(e,j,i),s(j,vo),a(e,He,i),a(e,P,i),s(P,bo),s(P,se),s(se,_o),s(P,ko),a(e,Le,i),a(e,Z,i),s(Z,zo),a(e,Ue,i),a(e,J,i),s(J,Eo),Me=!0},p:Co,i(e){Me||(ni(r.$$.fragment,e),Me=!0)},o(e){ri(r.$$.fragment,e),Me=!1},d(e){ci(r,e),e&&o(d),e&&o(v),e&&o(f),e&&o(k),e&&o(te),e&&o(E),e&&o(le),e&&o(L),e&&o(ne),e&&o(U),e&&o(re),e&&o(M),e&&o(ce),e&&o(T),e&&o(me),e&&o(G),e&&o(pe),e&&o(O),e&&o(ue),e&&o(S),e&&o(fe),e&&o(A),e&&o(de),e&&o(C),e&&o(ve),e&&o(h),e&&o(be),e&&o(w),e&&o(_e),e&&o(q),e&&o(ke),e&&o(D),e&&o(ze),e&&o(N),e&&o(Ee),e&&o(x),e&&o(he),e&&o(X),e&&o(ge),e&&o(V),e&&o(Pe),e&&o(W),e&&o(Ce),e&&o($),e&&o(we),e&&o(Y),e&&o(qe),e&&o(y),e&&o(De),e&&o(F),e&&o(xe),e&&o(B),e&&o($e),e&&o(g),e&&o(ye),e&&o(I),e&&o(Ie),e&&o(R),e&&o(Re),e&&o(j),e&&o(He),e&&o(P),e&&o(Le),e&&o(Z),e&&o(Ue),e&&o(J)}}}function yi(z){let r,d;const v=[z[0],ei];let b={$$slots:{default:[$i]},$$scope:{ctx:z}};for(let f=0;f<v.length;f+=1)b=wo(b,v[f]);return r=new wi({props:b}),{c(){si(r.$$.fragment)},l(f){ti(r.$$.fragment,f)},m(f,k){li(r,f,k),d=!0},p(f,[k]){const H=k&1?Ci(v,[k&1&&Jo(f[0]),k&0&&Jo(ei)]):{};k&2&&(H.$$scope={dirty:k,ctx:f}),r.$set(H)},i(f){d||(ni(r.$$.fragment,f),d=!0)},o(f){ri(r.$$.fragment,f),d=!1},d(f){ci(r,f)}}}const ei={id:"2023-08-20-1",titolo:"Come far girare Chrome in un container Docker",featured:!1,autore:"ProfMancusoa",data:"2023-08-20T00:00:00.000Z",cover:"come-far-girare-chrome-in-un-container-docker.webp",introduzione:"Eseguire Chrome e navigare in sicurezza tramite Docker",pubblicato:!0,sezione:"Blog",categorie:["Linux","Docker","Security"]};function Ii(z,r,d){return z.$$set=v=>{d(0,r=wo(wo({},r),Ko(v)))},r=Ko(r),[r]}class Mi extends oi{constructor(r){super(),ii(this,r,Ii,yi,ai,{})}}export{Mi as default,ei as metadata};
